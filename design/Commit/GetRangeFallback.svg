<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1396" height="2724" version="1.1"><g><g><rect width="1396" height="2724" x="0" y="0" fill="#fff" stroke="none"/></g><g><text x="604.175" y="28.272" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="22" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetRange Fallback</text></g><g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 55.12300913812503 58.3355240925 L 766.09598623875 58.3355240925 L 766.09598623875 2715.476237804999 L 55.12300913812503 2715.476237804999 L 55.12300913812503 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="316.827" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Client</text><text x="358.494" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(NativeAPI.actor.cpp)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 784.94429773875 58.3355240925 L 1387.247949721875 58.3355240925 L 1387.247949721875 2715.476237804999 L 784.94429773875 2715.476237804999 L 784.94429773875 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="947.69" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Storage Server</text><text x="1054.412" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(storageserver.actor.cpp)</text></g></g><g><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 145.45168442812502 153.990704955 L 145.45168442812502 2715.476237804999" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 153.990704955 L 290.90336885625004 2715.476237804999" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 153.990704955 L 470.07578068125 2715.476237804999" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 658.6652601675 153.990704955 L 658.6652601675 2715.476237804999" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 153.990704955 L 912.234642950625 2715.476237804999" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1282.3367549006252 153.990704955 L 1282.3367549006252 2715.476237804999" paint-order="fill stroke markers"/></g><g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 64.54716488812502 103.28874702000002 L 226.35620396812502 103.28874702000002 L 226.35620396812502 153.990704955 L 64.54716488812502 153.990704955 L 64.54716488812502 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="84.998" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">getRangeFallback</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 247.10334150375004 103.28874702000002 L 334.70339620875006 103.28874702000002 L 334.70339620875006 153.990704955 L 247.10334150375004 153.990704955 L 247.10334150375004 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="267.554" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">getKey</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 398.34118301625006 103.28874702000002 L 541.81037834625 103.28874702000002 L 541.81037834625 153.990704955 L 398.34118301625006 153.990704955 L 398.34118301625006 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="418.792" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">getExactRange</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 560.65868984625 103.28874702000002 L 756.67183048875 103.28874702000002 L 756.67183048875 153.990704955 L 560.65868984625 153.990704955 L 560.65868984625 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="581.109" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">getKeyRangeLocations</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 794.36845348875 103.28874702000002 L 1030.1008324125 103.28874702000002 L 1030.1008324125 153.990704955 L 794.36845348875 153.990704955 L 794.36845348875 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="814.819" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">serveGetKeyValuesRequests</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 1186.8497158293753 103.28874702000002 L 1377.8237939718754 103.28874702000002 L 1377.8237939718754 153.990704955 L 1186.8497158293753 153.990704955 L 1186.8497158293753 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1207.3" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">serveGetKeyRequests</text></g></g><g><g><text x="177.741" y="259.541" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">KeySelector</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 145.45168442812502 267.08057395500003 L 275.38492572125006 267.08057395500003" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 275.19644260625006 259.22711083 L 290.90336885625004 267.08057395500003 L 275.19644260625006 274.93403708000005 Z" paint-order="stroke fill markers" transform="translate(290.90336885625004,267.08057395500003) translate(-290.90336885625004,-267.08057395500003)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 200.18345736562506 295.353041205 L 381.62328034687505 295.353041205 L 381.62328034687505 338.704157655 L 200.18345736562506 338.704157655 L 200.18345736562506 295.353041205" paint-order="fill stroke markers"/><g><text x="226.571" y="321.741" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait for the version</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 388.65218313 L 300.32752460625005 388.65218313 M 300.32752460625005 366.97662490500005 L 443.68814458125 366.97662490500005 L 460.65162493125 383.94010525500005 L 460.65162493125 410.32774135500006 L 300.32752460625005 410.32774135500006 L 300.32752460625005 366.97662490500005 M 443.68814458125 366.97662490500005 L 443.68814458125 383.94010525500005 L 460.65162493125 383.94010525500005" paint-order="fill stroke markers"/><g><text x="326.715" y="393.364" fill="green" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyAttachID</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 460.27576683000007 L 300.32752460625005 460.27576683000007 M 300.32752460625005 438.6002086050001 L 417.85562505 438.6002086050001 L 434.8191054 455.5636889550001 L 434.8191054 481.9513250550001 L 300.32752460625005 481.9513250550001 L 300.32752460625005 438.6002086050001 M 417.85562505 438.6002086050001 L 417.85562505 455.5636889550001 L 434.8191054 455.5636889550001" paint-order="fill stroke markers"/><g><text x="326.715" y="464.988" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterVersion</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 175.28843783437506 510.22379230500013 L 406.51829987812505 510.22379230500013 L 406.51829987812505 553.5749087550001 L 175.28843783437506 553.5749087550001 L 175.28843783437506 510.22379230500013" paint-order="fill stroke markers"/><g><text x="201.676" y="536.611" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">See getKeyLocation in Get</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 603.5229342300001 L 300.32752460625005 603.5229342300001 M 300.32752460625005 581.8473760050001 L 380.33365239375007 581.8473760050001 L 397.29713274375007 598.8108563550002 L 397.29713274375007 625.1984924550002 L 300.32752460625005 625.1984924550002 L 300.32752460625005 581.8473760050001 M 380.33365239375007 581.8473760050001 L 380.33365239375007 598.8108563550002 L 397.29713274375007 598.8108563550002" paint-order="fill stroke markers"/><g><text x="326.715" y="608.235" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><g><text x="733.673" y="670.434" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 677.9737646550002 L 1266.8183117656251 677.9737646550002" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1266.6298286506253 670.1203015300002 L 1282.3367549006252 677.9737646550002 L 1266.6298286506253 685.8272277800002 Z" paint-order="stroke fill markers" transform="translate(1282.3367549006252,677.9737646550002) translate(-1282.3367549006252,-677.9737646550002)"/></g></g><g><text x="742.433" y="723.21" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyReply</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 1282.3367549006252 730.7490368550002 L 306.42181199125 730.7490368550002" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 306.61029510625 722.8955737300003 L 290.90336885625004 730.7490368550002 L 306.61029510625 738.6024999800002 Z" paint-order="stroke fill markers" transform="translate(290.90336885625004,730.7490368550002) translate(-290.90336885625004,-730.7490368550002)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 831.5875033800003 L 300.32752460625005 831.5875033800003 M 300.32752460625005 809.9119451550002 L 367.81656255000007 809.9119451550002 L 384.78004290000007 826.8754255050003 L 384.78004290000007 853.2630616050003 L 300.32752460625005 853.2630616050003 L 300.32752460625005 809.9119451550002 M 367.81656255000007 809.9119451550002 L 367.81656255000007 826.8754255050003 L 384.78004290000007 826.8754255050003" paint-order="fill stroke markers"/><g><text x="326.715" y="836.3" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><text x="205.254" y="898.499" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Key</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 906.0383338050003 L 160.97012756312503 906.0383338050003" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 161.15861067812503 898.1848706800004 L 145.45168442812502 906.0383338050003 L 161.15861067812503 913.8917969300003 Z" paint-order="stroke fill markers" transform="translate(145.45168442812502,906.0383338050003) translate(-145.45168442812502,-906.0383338050003)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 290.90336885625004 1006.8768003300004 L 300.32752460625005 1006.8768003300004 M 300.32752460625005 985.2012421050003 L 369.47183598750007 985.2012421050003 L 386.43531633750007 1002.1647224550004 L 386.43531633750007 1028.5523585550004 L 300.32752460625005 1028.5523585550004 L 300.32752460625005 985.2012421050003 M 369.47183598750007 985.2012421050003 L 369.47183598750007 1002.1647224550004 L 386.43531633750007 1002.1647224550004" paint-order="fill stroke markers"/><g><text x="326.715" y="1011.589" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Error</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 9.42415575 1113.3697603050005 L 281.47921310625003 1113.3697603050005 L 281.47921310625003 1156.7208767550005 L 9.42415575 1156.7208767550005 L 9.42415575 1113.3697603050005" paint-order="fill stroke markers"/><g><text x="35.812" y="1139.757" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Update read version if necessary</text></g><g><text x="231.881" y="1201.957" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Version, KeyRangeRef</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 145.45168442812502 1209.4961489550005 L 454.55733754625004 1209.4961489550005" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 454.36885443125004 1201.6426858300006 L 470.07578068125 1209.4961489550005 L 454.36885443125004 1217.3496120800005 Z" paint-order="stroke fill markers" transform="translate(470.07578068125,1209.4961489550005) translate(-470.07578068125,-1209.4961489550005)"/></g></g><g><text x="529.346" y="1305.623" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">KeyRange</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 1313.1618622050005 L 643.1468170325 1313.1618622050005" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 642.9583339175 1305.3083990800005 L 658.6652601675 1313.1618622050005 L 642.9583339175 1321.0153253300005 Z" paint-order="stroke fill markers" transform="translate(658.6652601675,1313.1618622050005) translate(-658.6652601675,-1313.1618622050005)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 658.6652601675 1363.1098876800004 L 668.0894159175 1363.1098876800004 M 668.0894159175 1341.4343294550004 L 748.095543705 1341.4343294550004 L 765.059024055 1358.3978098050004 L 765.059024055 1384.7854459050004 L 668.0894159175 1384.7854459050004 L 668.0894159175 1341.4343294550004 M 748.095543705 1341.4343294550004 L 748.095543705 1358.3978098050004 L 765.059024055 1358.3978098050004" paint-order="fill stroke markers"/><g><text x="694.477" y="1367.822" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 575.994665083125 1413.0579131550003 L 741.335855251875 1413.0579131550003 L 741.335855251875 1456.4090296050003 L 575.994665083125 1456.4090296050003 L 575.994665083125 1413.0579131550003" paint-order="fill stroke markers"/><g><text x="602.382" y="1439.446" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Get the locations</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 658.6652601675 1506.3570550800002 L 668.0894159175 1506.3570550800002 M 668.0894159175 1484.6814968550002 L 735.57845386125 1484.6814968550002 L 752.54193421125 1501.6449772050003 L 752.54193421125 1528.0326133050003 L 668.0894159175 1528.0326133050003 L 668.0894159175 1484.6814968550002 M 735.57845386125 1484.6814968550002 L 735.57845386125 1501.6449772050003 L 752.54193421125 1501.6449772050003" paint-order="fill stroke markers"/><g><text x="694.477" y="1511.069" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><text x="523.505" y="1573.269" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">LocationInfo</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 658.6652601675 1580.8078855050003 L 485.59422381625 1580.8078855050003" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 485.78270693125 1572.9544223800003 L 470.07578068125 1580.8078855050003 L 485.78270693125 1588.6613486300002 Z" paint-order="stroke fill markers" transform="translate(470.07578068125,1580.8078855050003) translate(-470.07578068125,-1580.8078855050003)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 1681.6463520300001 L 479.49993643125003 1681.6463520300001 M 479.49993643125003 1659.970793805 L 559.50606421875 1659.970793805 L 576.46954456875 1676.9342741550001 L 576.46954456875 1703.3219102550001 L 479.49993643125003 1703.3219102550001 L 479.49993643125003 1659.970793805 M 559.50606421875 1659.970793805 L 559.50606421875 1676.9342741550001 L 576.46954456875 1676.9342741550001" paint-order="fill stroke markers"/><g><text x="505.888" y="1686.358" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><g><text x="615.829" y="1748.558" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyValuesRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 1756.0971824550002 L 896.716199815625 1756.0971824550002" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 896.527716700625 1748.2437193300002 L 912.234642950625 1756.0971824550002 L 896.527716700625 1763.9506455800001 Z" paint-order="stroke fill markers" transform="translate(912.234642950625,1756.0971824550002) translate(-912.234642950625,-1756.0971824550002)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 1803.594927435 L 921.658798700625 1803.594927435 M 921.658798700625 1784.369649705 L 1145.3690280506248 1784.369649705 L 1162.3325084006249 1801.333130055 L 1162.3325084006249 1822.820205165 L 921.658798700625 1822.820205165 L 921.658798700625 1784.369649705 M 1145.3690280506248 1784.369649705 L 1145.3690280506248 1801.333130055 L 1162.3325084006249 1801.333130055" paint-order="fill stroke markers"/><g><text x="948.046" y="1807.365" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">storageserver.getKeyValues.Before</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 820.26229005375 1851.092672415 L 1004.2069958475 1851.092672415 L 1004.2069958475 1894.443788865 L 820.26229005375 1894.443788865 L 820.26229005375 1851.092672415" paint-order="fill stroke markers"/><g><text x="846.65" y="1877.48" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait the SS version</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 1941.9415338449999 L 921.658798700625 1941.9415338449999 M 921.658798700625 1922.7162561149999 L 1175.386606175625 1922.7162561149999 L 1192.350086525625 1939.679736465 L 1192.350086525625 1961.1668115749999 L 921.658798700625 1961.1668115749999 L 921.658798700625 1922.7162561149999 M 1175.386606175625 1922.7162561149999 L 1175.386606175625 1939.679736465 L 1192.350086525625 1939.679736465" paint-order="fill stroke markers"/><g><text x="948.046" y="1945.711" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">storageserver.getKeyValues.AfterVersion</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 830.39900880375 1989.4392788249997 L 994.0702770975 1989.4392788249997 L 994.0702770975 2032.7903952749998 L 830.39900880375 2032.7903952749998 L 830.39900880375 1989.4392788249997" paint-order="fill stroke markers"/><g><text x="856.787" y="2015.827" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Realign the keys</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 2080.2881402549997 L 921.658798700625 2080.2881402549997 M 921.658798700625 2061.0628625249997 L 1162.033090550625 2061.0628625249997 L 1178.996570900625 2078.0263428749995 L 1178.996570900625 2099.5134179849997 L 921.658798700625 2099.5134179849997 L 921.658798700625 2061.0628625249997 M 1162.033090550625 2061.0628625249997 L 1162.033090550625 2078.0263428749995 L 1178.996570900625 2078.0263428749995" paint-order="fill stroke markers"/><g><text x="948.046" y="2084.058" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">storageserver.getKeyValues.AfterKeys</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 2197.9016040149995 L 921.658798700625 2197.9016040149995 M 921.658798700625 2178.6763262849995 L 1138.0389499256248 2178.6763262849995 L 1155.0024302756249 2195.6398066349993 L 1155.0024302756249 2217.1268817449995 L 921.658798700625 2217.1268817449995 L 921.658798700625 2178.6763262849995 M 1138.0389499256248 2178.6763262849995 L 1138.0389499256248 2195.6398066349993 L 1155.0024302756249 2195.6398066349993" paint-order="fill stroke markers"/><g><text x="948.046" y="2201.671" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">storageserver.getKeyValues.Send</text></g><g><text x="597.087" y="2262.363" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyValuesReply (empty)</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 2269.9021539449996 L 485.59422381625 2269.9021539449996" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 485.78270693125 2262.0486908199996 L 470.07578068125 2269.9021539449996 L 485.78270693125 2277.7556170699995 Z" paint-order="stroke fill markers" transform="translate(470.07578068125,2269.9021539449996) translate(-470.07578068125,-2269.9021539449996)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 2368.2903399749994 L 921.658798700625 2368.2903399749994 M 921.658798700625 2349.0650622449994 L 1199.404184300625 2349.0650622449994 L 1216.367664650625 2366.028542594999 L 1216.367664650625 2387.5156177049994 L 921.658798700625 2387.5156177049994 L 921.658798700625 2349.0650622449994 M 1199.404184300625 2349.0650622449994 L 1199.404184300625 2366.028542594999 L 1216.367664650625 2366.028542594999" paint-order="fill stroke markers"/><g><text x="948.046" y="2372.06" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">storageserver.getKeyValues.AfterReadRange</text></g><g><text x="624.589" y="2432.752" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetKeyValuesReply</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 912.234642950625 2440.2908899049994 L 485.59422381625 2440.2908899049994" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 485.78270693125 2432.4374267799994 L 470.07578068125 2440.2908899049994 L 485.78270693125 2448.1443530299994 Z" paint-order="stroke fill markers" transform="translate(470.07578068125,2440.2908899049994) translate(-470.07578068125,-2440.2908899049994)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 2518.5113826299994 L 479.49993643125003 2518.5113826299994 M 479.49993643125003 2496.835824404999 L 546.988974375 2496.835824404999 L 563.952454725 2513.799304754999 L 563.952454725 2540.186940854999 L 479.49993643125003 2540.186940854999 L 479.49993643125003 2496.835824404999 M 546.988974375 2496.835824404999 L 546.988974375 2513.799304754999 L 563.952454725 2513.799304754999" paint-order="fill stroke markers"/><g><text x="505.888" y="2523.223" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><text x="252.733" y="2641.968" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">RangeResultRef</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 470.07578068125 2649.507147554999 L 160.97012756312503 2649.507147554999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 161.15861067812503 2641.653684429999 L 145.45168442812502 2649.507147554999 L 161.15861067812503 2657.360610679999 Z" paint-order="stroke fill markers" transform="translate(145.45168442812502,2649.507147554999) translate(-145.45168442812502,-2649.507147554999)"/></g></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 60.634282678125004 191.687327955 L 1348.3058451506251 191.687327955 L 1348.3058451506251 1085.0972930550006 L 60.634282678125004 1085.0972930550006 L 60.634282678125004 191.687327955 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 60.634282678125004 191.687327955 L 60.634282678125004 214.30530175500002 L 116.987155678125 214.30530175500002 L 128.296142578125 202.996314855 L 128.296142578125 191.687327955 L 60.634282678125004 191.687327955" paint-order="fill stroke markers"/><text x="79.483" y="206.766" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">opt</text><text x="147.144" y="206.766" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Key need resolve]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 79.48259417812501 759.0215041050003 L 395.8594720875001 759.0215041050003 L 395.8594720875001 1056.8248258050005 L 79.48259417812501 1056.8248258050005 L 79.48259417812501 759.0215041050003 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 79.48259417812501 759.0215041050003 L 79.48259417812501 781.6394779050003 L 131.18312342812501 781.6394779050003 L 142.49211032812502 770.3304910050003 L 142.49211032812502 759.0215041050003 L 79.48259417812501 759.0215041050003" paint-order="fill stroke markers"/><text x="98.331" y="774.1" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">alt</text><text x="161.34" y="774.1" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Success]</text><g><path fill="none" stroke="#000" stroke-dasharray="4.712" stroke-miterlimit="10" stroke-width="2.693" d="M 79.48259417812501 934.3108010550004 L 395.8594720875001 934.3108010550004" paint-order="fill stroke markers"/></g><text x="161.34" y="949.389" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Error]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 366.41006743125 1237.7686162050004 L 1263.488443400625 1237.7686162050004 L 1263.488443400625 2596.731875354999 L 366.41006743125 2596.731875354999 L 366.41006743125 1237.7686162050004 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 366.41006743125 1237.7686162050004 L 366.41006743125 1260.3865900050005 L 429.43090918125 1260.3865900050005 L 440.73989608125 1249.0776031050004 L 440.73989608125 1237.7686162050004 L 366.41006743125 1237.7686162050004" paint-order="fill stroke markers"/><text x="385.258" y="1252.847" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">loop</text><text x="459.588" y="1252.847" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Loop over keys in the range]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 385.25837893125004 1609.0803527550001 L 1244.640131900625 1609.0803527550001 L 1244.640131900625 2568.459408104999 L 385.25837893125004 2568.459408104999 L 385.25837893125004 1609.0803527550001 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 385.25837893125004 1609.0803527550001 L 385.25837893125004 1631.6983265550002 L 448.27922068125 1631.6983265550002 L 459.58820758125 1620.3893396550002 L 459.58820758125 1609.0803527550001 L 385.25837893125004 1609.0803527550001" paint-order="fill stroke markers"/><text x="404.107" y="1624.159" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">loop</text><text x="478.437" y="1624.159" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Loop over shards]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 404.10669043125 2127.7858852349996 L 1225.791820400625 2127.7858852349996 L 1225.791820400625 2468.5633571549993 L 404.10669043125 2468.5633571549993 L 404.10669043125 2127.7858852349996 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 404.10669043125 2127.7858852349996 L 404.10669043125 2150.4038590349996 L 455.80721968125 2150.4038590349996 L 467.11620658124997 2139.0948721349996 L 467.11620658124997 2127.7858852349996 L 404.10669043125 2127.7858852349996" paint-order="fill stroke markers"/><text x="422.955" y="2142.865" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">alt</text><text x="485.965" y="2142.865" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[No KV pair stored in this server]</text><g><path fill="none" stroke="#000" stroke-dasharray="4.712" stroke-miterlimit="10" stroke-width="2.693" d="M 404.10669043125 2298.1746211949994 L 1225.791820400625 2298.1746211949994" paint-order="fill stroke markers"/></g><text x="485.965" y="2313.253" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[KV pair found]</text></g></g></g></svg>