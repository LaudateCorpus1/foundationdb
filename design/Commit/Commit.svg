<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="3121" height="4300" version="1.1"><g><g><rect width="3121" height="4300" x="0" y="0" fill="#fff" stroke="none"/></g><g><text x="1522.901" y="28.272" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="22" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Commit</text></g><g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 9.424155749999994 58.3355240925 L 834.9183057818749 58.3355240925 L 834.9183057818749 4291.1950792049975 L 9.424155749999994 4291.1950792049975 L 9.424155749999994 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="328.388" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Client</text><text x="370.056" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(NativeAPI.actor.cpp)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 975.18904427 58.3355240925 L 1694.4325820031247 58.3355240925 L 1694.4325820031247 4291.1950792049975 L 975.18904427 4291.1950792049975 L 975.18904427 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="1179.764" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitProxy</text><text x="1277.286" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(CommitProxyServer.actor.cpp)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1745.118777775625 58.3355240925 L 2122.261115654375 58.3355240925 L 2122.261115654375 4291.1950792049975 L 1745.118777775625 4291.1950792049975 L 1745.118777775625 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="1907.429" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Master</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2192.9444275268747 58.3355240925 L 2339.4050007631245 58.3355240925 L 2339.4050007631245 4291.1950792049975 L 2192.9444275268747 4291.1950792049975 L 2192.9444275268747 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="2165.705" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Resolver</text><text x="2229.074" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(Resolver.actor.cpp)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2486.2089423762495 58.3355240925 L 2626.8174648312493 58.3355240925 L 2626.8174648312493 4291.1950792049975 L 2486.2089423762495 4291.1950792049975 L 2486.2089423762495 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="2459.812" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">TLog</text><text x="2496.462" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(TLogServer.actor.cpp)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2774.3208693349993 58.3355240925 L 3013.337594914999 58.3355240925 L 3013.337594914999 4291.1950792049975 L 2774.3208693349993 4291.1950792049975 L 2774.3208693349993 58.3355240925" paint-order="fill stroke markers"/></g><g><text x="2755.423" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Storage Server</text><text x="2862.145" y="84.723" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">(storageserver.actor.cpp)</text></g></g><g><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 106.54238182124999 153.990704955 L 106.54238182124999 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 292.0263925575 153.990704955 L 292.0263925575 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 153.990704955 L 527.64256046375 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 766.8222965074999 153.990704955 L 766.8222965074999 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1055.077045731875 153.990704955 L 1055.077045731875 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 153.990704955 L 1357.402198013125 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1579.0916996818748 153.990704955 L 1579.0916996818748 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1810.4389081437498 153.990704955 L 1810.4389081437498 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 1999.0100770831248 153.990704955 L 1999.0100770831248 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 153.990704955 L 2266.1747141449996 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 153.990704955 L 2556.5132036037494 4291.1950792049975" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="14.499 6.283" stroke-miterlimit="10" stroke-width="1.571" d="M 2893.829232124999 153.990704955 L 2893.829232124999 4291.1950792049975" paint-order="fill stroke markers"/></g><g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 18.848311499999994 103.28874702000002 L 194.23645214249999 103.28874702000002 L 194.23645214249999 153.990704955 L 18.848311499999994 153.990704955 L 18.848311499999994 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="39.299" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Transaction::commit</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 213.0847636425 103.28874702000002 L 370.9680214725 103.28874702000002 L 370.9680214725 153.990704955 L 213.0847636425 153.990704955 L 213.0847636425 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="233.535" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">commitAndWatch</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 473.02832412687496 103.28874702000002 L 582.256796800625 103.28874702000002 L 582.256796800625 153.990704955 L 473.02832412687496 153.990704955 L 473.02832412687496 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="493.479" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">tryCommit</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 708.1504429831249 103.28874702000002 L 825.4941500318749 103.28874702000002 L 825.4941500318749 153.990704955 L 708.1504429831249 153.990704955 L 708.1504429831249 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="728.601" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">watchValue</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 984.6132000199999 103.28874702000002 L 1125.5408914437498 103.28874702000002 L 1125.5408914437498 153.990704955 L 984.6132000199999 153.990704955 L 984.6132000199999 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1005.064" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">commitBatcher</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 1293.607053473125 103.28874702000002 L 1421.197342553125 103.28874702000002 L 1421.197342553125 153.990704955 L 1293.607053473125 153.990704955 L 1293.607053473125 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1314.057" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">commitBatch</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 1473.174973110625 103.28874702000002 L 1685.008426253125 103.28874702000002 L 1685.008426253125 153.990704955 L 1473.174973110625 153.990704955 L 1473.174973110625 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1493.625" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">TagPartitionedLogSystem</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 1754.542933525625 103.28874702000002 L 1866.334882761875 103.28874702000002 L 1866.334882761875 153.990704955 L 1754.542933525625 153.990704955 L 1754.542933525625 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1774.993" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">getVersion</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 1885.1831942618749 103.28874702000002 L 2112.836959904375 103.28874702000002 L 2112.836959904375 153.990704955 L 1885.1831942618749 153.990704955 L 1885.1831942618749 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="1905.634" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">serveLiveCommittedVersion</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 2202.3685832768747 103.28874702000002 L 2329.9808450131245 103.28874702000002 L 2329.9808450131245 153.990704955 L 2202.3685832768747 153.990704955 L 2202.3685832768747 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="2222.819" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">resolveBatch</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 2495.6330981262495 103.28874702000002 L 2617.3933090812493 103.28874702000002 L 2617.3933090812493 153.990704955 L 2495.6330981262495 153.990704955 L 2495.6330981262495 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="2516.084" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">tLogCommit</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="3.016" d="M 2783.7450250849993 103.28874702000002 L 3003.913439164999 103.28874702000002 L 3003.913439164999 153.990704955 L 2783.7450250849993 153.990704955 L 2783.7450250849993 103.28874702000002 Z" paint-order="fill stroke markers"/></g><g><text x="2804.195" y="135.142" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">serveWatchValueRequests</text></g></g><g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 106.54238182124999 216.19013290500004 L 276.5079494225 216.19013290500004" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 276.3194663075 208.33666978000005 L 292.0263925575 216.19013290500004 L 276.3194663075 224.04359603000003 Z" paint-order="stroke fill markers" transform="translate(292.0263925575,216.19013290500004) translate(-292.0263925575,-216.19013290500004)"/></g></g><g><text x="317.157" y="261.426" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitTransactionRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 292.0263925575 268.96540510500006 L 512.12411732875 268.96540510500006" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 511.93563421375 261.11194198000004 L 527.64256046375 268.96540510500006 L 511.93563421375 276.8188682300001 Z" paint-order="stroke fill markers" transform="translate(527.64256046375,268.96540510500006) translate(-527.64256046375,-268.96540510500006)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 318.91343058000007 L 537.0667162137499 318.91343058000007 M 537.0667162137499 297.2378723550001 L 682.0679611887499 297.2378723550001 L 699.03144153875 314.2013527050001 L 699.03144153875 340.5889888050001 L 537.0667162137499 340.5889888050001 L 537.0667162137499 297.2378723550001 M 682.0679611887499 297.2378723550001 L 682.0679611887499 314.2013527050001 L 699.03144153875 314.2013527050001" paint-order="fill stroke markers"/><g><text x="563.454" y="323.626" fill="green" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitAttachID</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 390.5370142800001 L 537.0667162137499 390.5370142800001 M 537.0667162137499 368.86145605500013 L 740.4346604074999 368.86145605500013 L 757.3981407575 385.82493640500013 L 757.3981407575 412.21257250500014 L 537.0667162137499 412.21257250500014 L 537.0667162137499 368.86145605500013 M 740.4346604074999 368.86145605500013 L 740.4346604074999 385.82493640500013 L 757.3981407575 385.82493640500013" paint-order="fill stroke markers"/><g><text x="563.454" y="395.249" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">NativeAPI.commit.Before</text></g><g><text x="698.683" y="457.449" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitTransactionRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 464.98784470500016 L 1039.5586025968748 464.98784470500016" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1039.370119481875 457.13438158000014 L 1055.077045731875 464.98784470500016 L 1039.370119481875 472.8413078300002 Z" paint-order="stroke fill markers" transform="translate(1055.077045731875,464.98784470500016) translate(-1055.077045731875,-464.98784470500016)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 952.4113334599999 544.1507530050003 L 1157.74275800375 544.1507530050003 L 1157.74275800375 587.5018694550002 L 952.4113334599999 587.5018694550002 L 952.4113334599999 544.1507530050003" paint-order="fill stroke markers"/><g><text x="978.799" y="570.538" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Batch commit requests</text></g><g><text x="1080.208" y="661.01" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Batched CommitTransactionRequests</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1055.077045731875 668.5496089050002 L 1341.8837548781248 668.5496089050002" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1341.695271763125 660.6961457800003 L 1357.402198013125 668.5496089050002 L 1341.695271763125 676.4030720300002 Z" paint-order="stroke fill markers" transform="translate(1357.402198013125,668.5496089050002) translate(-1357.402198013125,-668.5496089050002)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 716.0473538850002 L 1366.8263537631249 716.0473538850002 M 1366.8263537631249 696.8220761550002 L 1552.6908799881248 696.8220761550002 L 1569.654360338125 713.7855565050003 L 1569.654360338125 735.2726316150003 L 1366.8263537631249 735.2726316150003 L 1366.8263537631249 696.8220761550002 M 1552.6908799881248 696.8220761550002 L 1552.6908799881248 713.7855565050003 L 1569.654360338125 713.7855565050003" paint-order="fill stroke markers"/><g><text x="1393.214" y="719.817" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitProxyServer.batcher</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1286.823888085 763.5450988650002 L 1427.98050794125 763.5450988650002 L 1427.98050794125 806.8962153150003 L 1286.823888085 806.8962153150003 L 1286.823888085 763.5450988650002" paint-order="fill stroke markers"/><g><text x="1313.212" y="789.933" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Preresolution</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 856.8442407900003 L 1366.8263537631249 856.8442407900003 M 1366.8263537631249 835.1686825650004 L 1552.7040635818748 835.1686825650004 L 1569.667543931875 852.1321629150004 L 1569.667543931875 878.5197990150003 L 1366.8263537631249 878.5197990150003 L 1366.8263537631249 835.1686825650004 M 1552.7040635818748 835.1686825650004 L 1552.7040635818748 852.1321629150004 L 1569.667543931875 852.1321629150004" paint-order="fill stroke markers"/><g><text x="1393.214" y="861.556" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GettingCommitVersion</text></g><g><text x="1493.045" y="923.756" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetCommitVersionRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 931.2950712150003 L 1794.9204650087497 931.2950712150003" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1794.73198189375 923.4416080900004 L 1810.4389081437498 931.2950712150003 L 1794.73198189375 939.1485343400003 Z" paint-order="stroke fill markers" transform="translate(1810.4389081437498,931.2950712150003) translate(-1810.4389081437498,-931.2950712150003)"/></g></g><g><text x="1501.805" y="976.531" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetCommitVersionReply</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1810.4389081437498 984.0703434150004 L 1372.920641148125 984.0703434150004" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1373.1091242631248 976.2168802900004 L 1357.402198013125 984.0703434150004 L 1373.1091242631248 991.9238065400003 Z" paint-order="stroke fill markers" transform="translate(1357.402198013125,984.0703434150004) translate(-1357.402198013125,-984.0703434150004)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 1034.0183688900004 L 1366.8263537631249 1034.0183688900004 M 1366.8263537631249 1012.3428106650003 L 1528.5194932693748 1012.3428106650003 L 1545.482973619375 1029.3062910150004 L 1545.482973619375 1055.6939271150004 L 1366.8263537631249 1055.6939271150004 L 1366.8263537631249 1012.3428106650003 M 1528.5194932693748 1012.3428106650003 L 1528.5194932693748 1029.3062910150004 L 1545.482973619375 1029.3062910150004" paint-order="fill stroke markers"/><g><text x="1393.214" y="1038.73" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GotCommitVersion</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1303.9186146475 1083.9663943650003 L 1410.88578137875 1083.9663943650003 L 1410.88578137875 1127.3175108150003 L 1303.9186146475 1127.3175108150003 L 1303.9186146475 1083.9663943650003" paint-order="fill stroke markers"/><g><text x="1330.306" y="1110.354" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Resolve</text></g><g><text x="1698.67" y="1172.553" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">ResolveTransactionBatchRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 1180.0927830150004 L 2250.6562710099997 1180.0927830150004" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 2250.4677878949997 1172.2393198900004 L 2266.1747141449996 1180.0927830150004 L 2250.4677878949997 1187.9462461400003 Z" paint-order="stroke fill markers" transform="translate(2266.1747141449996,1180.0927830150004) translate(-2266.1747141449996,-1180.0927830150004)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 1230.0408084900002 L 2275.5988698949996 1230.0408084900002 M 2275.5988698949996 1208.3652502650002 L 2355.6049976824997 1208.3652502650002 L 2372.5684780324996 1225.3287306150003 L 2372.5684780324996 1251.7163667150003 L 2275.5988698949996 1251.7163667150003 L 2275.5988698949996 1208.3652502650002 M 2355.6049976824997 1208.3652502650002 L 2355.6049976824997 1225.3287306150003 L 2372.5684780324996 1225.3287306150003" paint-order="fill stroke markers"/><g><text x="2301.987" y="1234.753" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2131.6852714043744 1279.9888339650001 L 2400.6641568856244 1279.9888339650001 L 2400.6641568856244 1323.3399504150002 L 2131.6852714043744 1323.3399504150002 L 2131.6852714043744 1279.9888339650001" paint-order="fill stroke markers"/><g><text x="2158.073" y="1306.376" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait for memory/needed version</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 1373.28797589 L 2275.5988698949996 1373.28797589 M 2275.5988698949996 1351.612417665 L 2459.8213062762497 1351.612417665 L 2476.7847866262496 1368.5758980150001 L 2476.7847866262496 1394.9635341150001 L 2275.5988698949996 1394.9635341150001 L 2275.5988698949996 1351.612417665 M 2459.8213062762497 1351.612417665 L 2459.8213062762497 1368.5758980150001 L 2476.7847866262496 1368.5758980150001" paint-order="fill stroke markers"/><g><text x="2301.987" y="1378" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterQueueSizeCheck</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2159.2060233574994 1423.236001365 L 2373.1434049324994 1423.236001365 L 2373.1434049324994 1466.587117815 L 2159.2060233574994 1466.587117815 L 2159.2060233574994 1423.236001365" paint-order="fill stroke markers"/><g><text x="2185.594" y="1449.624" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait for resolver version</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 1516.53514329 L 2275.5988698949996 1516.53514329 M 2275.5988698949996 1494.859585065 L 2394.7675953387497 1494.859585065 L 2411.7310756887496 1511.823065415 L 2411.7310756887496 1538.210701515 L 2275.5988698949996 1538.210701515 L 2275.5988698949996 1494.859585065 M 2394.7675953387497 1494.859585065 L 2394.7675953387497 1511.823065415 L 2411.7310756887496 1511.823065415" paint-order="fill stroke markers"/><g><text x="2301.987" y="1521.247" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterOrderer</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2171.0053397637494 1566.4831687649998 L 2361.3440885262494 1566.4831687649998 L 2361.3440885262494 1609.834285215 L 2171.0053397637494 1609.834285215 L 2171.0053397637494 1566.4831687649998" paint-order="fill stroke markers"/><g><text x="2197.393" y="1592.871" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Resolve the conflicts</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 1659.7823106899998 L 2275.5988698949996 1659.7823106899998 M 2275.5988698949996 1638.1067524649998 L 2343.0879078387497 1638.1067524649998 L 2360.0513881887496 1655.0702328149998 L 2360.0513881887496 1681.4578689149998 L 2275.5988698949996 1681.4578689149998 L 2275.5988698949996 1638.1067524649998 M 2343.0879078387497 1638.1067524649998 L 2343.0879078387497 1655.0702328149998 L 2360.0513881887496 1655.0702328149998" paint-order="fill stroke markers"/><g><text x="2301.987" y="1664.494" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><text x="1707.429" y="1726.694" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">ResolveTransactionBatchReply</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 2266.1747141449996 1734.2331411149999 L 1372.920641148125 1734.2331411149999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1373.1091242631248 1726.37967799 L 1357.402198013125 1734.2331411149999 L 1373.1091242631248 1742.0866042399998 Z" paint-order="stroke fill markers" transform="translate(1357.402198013125,1734.2331411149999) translate(-1357.402198013125,-1734.2331411149999)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 1784.1811665899997 L 1366.8263537631249 1784.1811665899997 M 1366.8263537631249 1762.5056083649997 L 1541.8715440506248 1762.5056083649997 L 1558.835024400625 1779.4690887149998 L 1558.835024400625 1805.8567248149998 L 1366.8263537631249 1805.8567248149998 L 1366.8263537631249 1762.5056083649997 M 1541.8715440506248 1762.5056083649997 L 1541.8715440506248 1779.4690887149998 L 1558.835024400625 1779.4690887149998" paint-order="fill stroke markers"/><g><text x="1393.214" y="1788.893" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">ProcessingMutations</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1253.883214256875 1834.1291920649996 L 1460.921181769375 1834.1291920649996 L 1460.921181769375 1877.4803085149997 L 1253.883214256875 1877.4803085149997 L 1253.883214256875 1834.1291920649996" paint-order="fill stroke markers"/><g><text x="1280.271" y="1860.517" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Calculate the metadata</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1161.35269667875 1905.7527757649996 L 1553.4516993475 1905.7527757649996 L 1553.4516993475 1949.1038922149996 L 1161.35269667875 1949.1038922149996 L 1161.35269667875 1905.7527757649996" paint-order="fill stroke markers"/><g><text x="1187.74" y="1932.14" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Determine which transactions should be committed</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1199.284825585 1977.3763594649995 L 1515.51957044125 1977.3763594649995 L 1515.51957044125 2020.7274759149996 L 1199.284825585 2020.7274759149996 L 1199.284825585 1977.3763594649995" paint-order="fill stroke markers"/><g><text x="1225.672" y="2003.764" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Assign storage server tags to mutations</text></g><g><text x="1561.901" y="2116.854" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetRawCommittedVersionRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 2124.3931891649995 L 1983.4916339481247 2124.3931891649995" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1983.3031508331248 2116.5397260399996 L 1999.0100770831248 2124.3931891649995 L 1983.3031508331248 2132.2466522899995 Z" paint-order="stroke fill markers" transform="translate(1999.0100770831248,2124.3931891649995) translate(-1999.0100770831248,-2124.3931891649995)"/></g></g><g><text x="1570.661" y="2169.629" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">GetRawCommittedVersionReply</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 1999.0100770831248 2177.1684613649995 L 1372.920641148125 2177.1684613649995" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1373.1091242631248 2169.3149982399996 L 1357.402198013125 2177.1684613649995 L 1373.1091242631248 2185.0219244899995 Z" paint-order="stroke fill markers" transform="translate(1357.402198013125,2177.1684613649995) translate(-1357.402198013125,-2177.1684613649995)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 2255.3889540899995 L 1366.8263537631249 2255.3889540899995 M 1366.8263537631249 2233.7133958649993 L 1529.3324815506248 2233.7133958649993 L 1546.295961900625 2250.676876214999 L 1546.295961900625 2277.0645123149993 L 1366.8263537631249 2277.0645123149993 L 1366.8263537631249 2233.7133958649993 M 1529.3324815506248 2233.7133958649993 L 1529.3324815506248 2250.676876214999 L 1546.295961900625 2250.676876214999" paint-order="fill stroke markers"/><g><text x="1393.214" y="2260.101" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterStoreCommits</text></g><g><text x="1393.609" y="2322.3" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Version, LogPushData</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 2329.8397845149993 L 1563.5732565468747 2329.8397845149993" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1563.384773431875 2321.9863213899994 L 1579.0916996818748 2329.8397845149993 L 1563.384773431875 2337.6932476399993 Z" paint-order="stroke fill markers" transform="translate(1579.0916996818748,2329.8397845149993) translate(-1579.0916996818748,-2329.8397845149993)"/></g></g><g><text x="1996.941" y="2375.076" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">TLogCommitRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1579.0916996818748 2382.6150567149994 L 2540.9947604687495 2382.6150567149994" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 2540.8062773537495 2374.7615935899994 L 2556.5132036037494 2382.6150567149994 L 2540.8062773537495 2390.4685198399993 Z" paint-order="stroke fill markers" transform="translate(2556.5132036037494,2382.6150567149994) translate(-2556.5132036037494,-2382.6150567149994)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 2432.5630821899995 L 2565.9373593537493 2432.5630821899995 M 2565.9373593537493 2410.887523964999 L 2710.9386043287495 2410.887523964999 L 2727.9020846787494 2427.851004314999 L 2727.9020846787494 2454.2386404149993 L 2565.9373593537493 2454.2386404149993 L 2565.9373593537493 2410.887523964999 M 2710.9386043287495 2410.887523964999 L 2710.9386043287495 2427.851004314999 L 2727.9020846787494 2427.851004314999" paint-order="fill stroke markers"/><g><text x="2592.325" y="2437.275" fill="green" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitAttachID</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 2504.1866658899994 L 2565.9373593537493 2504.1866658899994 M 2565.9373593537493 2482.511107664999 L 2747.9332332349995 2482.511107664999 L 2764.8967135849994 2499.474588014999 L 2764.8967135849994 2525.862224114999 L 2565.9373593537493 2525.862224114999 L 2565.9373593537493 2482.511107664999 M 2747.9332332349995 2482.511107664999 L 2747.9332332349995 2499.474588014999 L 2764.8967135849994 2499.474588014999" paint-order="fill stroke markers"/><g><text x="2592.325" y="2508.899" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">BeforeWaitForVersion</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2465.793292113124 2554.134691364999 L 2647.233115094374 2554.134691364999 L 2647.233115094374 2597.485807814999 L 2465.793292113124 2597.485807814999 L 2465.793292113124 2554.134691364999" paint-order="fill stroke markers"/><g><text x="2492.181" y="2580.522" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait for the version</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 2647.4338332899993 L 2565.9373593537493 2647.4338332899993 M 2565.9373593537493 2625.758275064999 L 2645.9434871412495 2625.758275064999 L 2662.9069674912494 2642.721755414999 L 2662.9069674912494 2669.109391514999 L 2565.9373593537493 2669.109391514999 L 2565.9373593537493 2625.758275064999 M 2645.9434871412495 2625.758275064999 L 2645.9434871412495 2642.721755414999 L 2662.9069674912494 2642.721755414999" paint-order="fill stroke markers"/><g><text x="2592.325" y="2652.146" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2473.439776488124 2697.381858764999 L 2639.586630719374 2697.381858764999 L 2639.586630719374 2740.732975214999 L 2473.439776488124 2740.732975214999 L 2473.439776488124 2697.381858764999" paint-order="fill stroke markers"/><g><text x="2499.827" y="2723.769" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Store the commit</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2420.903155394374 2769.005442464999 L 2692.123251813124 2769.005442464999 L 2692.123251813124 2812.356558914999 L 2420.903155394374 2812.356558914999 L 2420.903155394374 2769.005442464999" paint-order="fill stroke markers"/><g><text x="2447.291" y="2795.393" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Put commit into persistent queue</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 2862.304584389999 L 2565.9373593537493 2862.304584389999 M 2565.9373593537493 2840.629026164999 L 2719.2808894849995 2840.629026164999 L 2736.2443698349994 2857.5925065149986 L 2736.2443698349994 2883.980142614999 L 2565.9373593537493 2883.980142614999 L 2565.9373593537493 2840.629026164999 M 2719.2808894849995 2840.629026164999 L 2719.2808894849995 2857.5925065149986 L 2736.2443698349994 2857.5925065149986" paint-order="fill stroke markers"/><g><text x="2592.325" y="2867.017" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterTLogCommit</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2399.098956175624 2912.2526098649987 L 2713.927451031874 2912.2526098649987 L 2713.927451031874 2955.6037263149988 L 2399.098956175624 2955.6037263149988 L 2399.098956175624 2912.2526098649987" paint-order="fill stroke markers"/><g><text x="2425.487" y="2938.64" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Wait all prior message being committed</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 3005.551751789999 L 2565.9373593537493 3005.551751789999 M 2565.9373593537493 2983.8761935649986 L 2633.4263972974995 2983.8761935649986 L 2650.3898776474994 3000.8396739149985 L 2650.3898776474994 3027.2273100149987 L 2565.9373593537493 3027.2273100149987 L 2565.9373593537493 2983.8761935649986 M 2633.4263972974995 2983.8761935649986 L 2633.4263972974995 3000.8396739149985 L 2650.3898776474994 3000.8396739149985" paint-order="fill stroke markers"/><g><text x="2592.325" y="3010.264" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><text x="2005.7" y="3072.463" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">TLogCommitReply</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 2556.5132036037494 3080.0025822149987 L 1594.610142816875 3080.0025822149987" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1594.7986259318748 3072.1491190899987 L 1579.0916996818748 3080.0025822149987 L 1594.7986259318748 3087.8560453399987 Z" paint-order="stroke fill markers" transform="translate(1579.0916996818748,3080.0025822149987) translate(-1579.0916996818748,-3080.0025822149987)"/></g></g><g><text x="1424.064" y="3125.239" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Version (min)</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1579.0916996818748 3132.7778544149987 L 1372.920641148125 3132.7778544149987" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1373.1091242631248 3124.9243912899988 L 1357.402198013125 3132.7778544149987 L 1373.1091242631248 3140.6313175399987 Z" paint-order="stroke fill markers" transform="translate(1357.402198013125,3132.7778544149987) translate(-1357.402198013125,-3132.7778544149987)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 3182.725879889999 L 1366.8263537631249 3182.725879889999 M 1366.8263537631249 3161.0503216649986 L 1493.5317003006248 3161.0503216649986 L 1510.495180650625 3178.0138020149984 L 1510.495180650625 3204.4014381149987 L 1366.8263537631249 3204.4014381149987 L 1366.8263537631249 3161.0503216649986 M 1493.5317003006248 3161.0503216649986 L 1493.5317003006248 3178.0138020149984 L 1510.495180650625 3178.0138020149984" paint-order="fill stroke markers"/><g><text x="1393.214" y="3187.438" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">AfterLogPush</text></g><g><text x="909.19" y="3249.637" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">CommitID</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 1357.402198013125 3257.1767103149987 L 543.16100359875 3257.1767103149987" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 543.34948671375 3249.3232471899987 L 527.64256046375 3257.1767103149987 L 543.34948671375 3265.0301734399986 Z" paint-order="stroke fill markers" transform="translate(527.64256046375,3257.1767103149987) translate(-527.64256046375,-3257.1767103149987)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 3304.6744552949986 L 537.0667162137499 3304.6744552949986 M 537.0667162137499 3285.4491775649985 L 696.9097580637499 3285.4491775649985 L 713.87323841375 3302.4126579149984 L 713.87323841375 3323.8997330249986 L 537.0667162137499 3323.8997330249986 L 537.0667162137499 3285.4491775649985 M 696.9097580637499 3285.4491775649985 L 696.9097580637499 3302.4126579149984 L 713.87323841375 3302.4126579149984" paint-order="fill stroke markers"/><g><text x="563.454" y="3308.444" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">NativeAPI.commit.After</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 527.64256046375 3376.6750052249986 L 307.5448356925 3376.6750052249986" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 307.7333188075 3368.8215420999986 L 292.0263925575 3376.6750052249986 L 307.7333188075 3384.5284683499985 Z" paint-order="stroke fill markers" transform="translate(292.0263925575,3376.6750052249986) translate(-292.0263925575,-3376.6750052249986)"/></g></g><g><text x="504.405" y="3421.911" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Version</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 292.0263925575 3429.4502774249986 L 751.3038533724999 3429.4502774249986" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 751.1153702574999 3421.5968142999986 L 766.8222965074999 3429.4502774249986 L 751.1153702574999 3437.3037405499986 Z" paint-order="stroke fill markers" transform="translate(766.8222965074999,3429.4502774249986) translate(-766.8222965074999,-3429.4502774249986)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 766.8222965074999 3479.3983028999987 L 776.2464522574999 3479.3983028999987 M 776.2464522574999 3457.7227446749985 L 948.8014081699998 3457.7227446749985 L 965.7648885199999 3474.6862250249983 L 965.7648885199999 3501.0738611249985 L 776.2464522574999 3501.0738611249985 L 776.2464522574999 3457.7227446749985 M 948.8014081699998 3457.7227446749985 L 948.8014081699998 3474.6862250249983 L 965.7648885199999 3474.6862250249983" paint-order="fill stroke markers"/><g><text x="802.634" y="3484.11" fill="green" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">WatchValueAttachID</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 766.8222965074999 3551.0218865999987 L 776.2464522574999 3551.0218865999987 M 776.2464522574999 3529.3463283749984 L 856.2525800449998 3529.3463283749984 L 873.2160603949999 3546.309808724998 L 873.2160603949999 3572.6974448249985 L 776.2464522574999 3572.6974448249985 L 776.2464522574999 3529.3463283749984 M 856.2525800449998 3529.3463283749984 L 856.2525800449998 3546.309808724998 L 873.2160603949999 3546.309808724998" paint-order="fill stroke markers"/><g><text x="802.634" y="3555.734" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Before</text></g><g><text x="1762.782" y="3617.933" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">WatchValueRequest</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 766.8222965074999 3625.4727170249985 L 2878.3107889899993 3625.4727170249985" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 2878.1223058749993 3617.6192538999985 L 2893.829232124999 3625.4727170249985 L 2878.1223058749993 3633.3261801499984 Z" paint-order="stroke fill markers" transform="translate(2893.829232124999,3625.4727170249985) translate(-2893.829232124999,-3625.4727170249985)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2893.829232124999 3672.9704620049984 L 2903.253387874999 3672.9704620049984 M 2903.253387874999 3653.7451842749983 L 3048.2429140999993 3653.7451842749983 L 3065.206394449999 3670.708664624998 L 3065.206394449999 3692.1957397349984 L 2903.253387874999 3692.1957397349984 L 2903.253387874999 3653.7451842749983 M 3048.2429140999993 3653.7451842749983 L 3048.2429140999993 3670.708664624998 L 3065.206394449999 3670.708664624998" paint-order="fill stroke markers"/><g><text x="2929.641" y="3676.74" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">watchValueQ.Before</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2772.805365556249 3720.4682069849982 L 3014.853098693749 3720.4682069849982 L 3014.853098693749 3763.8193234349983 L 2772.805365556249 3763.8193234349983 L 2772.805365556249 3720.4682069849982" paint-order="fill stroke markers"/><g><text x="2799.193" y="3746.856" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Ensure version is not too old</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2893.829232124999 3811.317068414998 L 2903.253387874999 3811.317068414998 M 2903.253387874999 3792.091790684998 L 3078.2604922249993 3792.091790684998 L 3095.223972574999 3809.055271034998 L 3095.223972574999 3830.542346144998 L 2903.253387874999 3830.542346144998 L 2903.253387874999 3792.091790684998 M 3078.2604922249993 3792.091790684998 L 3078.2604922249993 3809.055271034998 L 3095.223972574999 3809.055271034998" paint-order="fill stroke markers"/><g><text x="2929.641" y="3815.087" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">watchValueQ.AfterVersion</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2759.189642899999 3909.705254444998 L 3028.468821349999 3909.705254444998 L 3028.468821349999 3953.056370894998 L 2759.189642899999 3953.056370894998 L 2759.189642899999 3909.705254444998" paint-order="fill stroke markers"/><g><text x="2785.577" y="3936.093" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Check storageserver::getValueQ</text></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 2893.829232124999 4000.554115874998 L 2903.253387874999 4000.554115874998 M 2903.253387874999 3981.328838144998 L 3066.9167422249993 3981.328838144998 L 3083.880222574999 3998.2923184949977 L 3083.880222574999 4019.779393604998 L 2903.253387874999 4019.779393604998 L 2903.253387874999 3981.328838144998 M 3066.9167422249993 3981.328838144998 L 3066.9167422249993 3998.2923184949977 L 3083.880222574999 3998.2923184949977" paint-order="fill stroke markers"/><g><text x="2929.641" y="4004.324" fill="#add8e6" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">watchValueQ.AfterRead</text></g><g><text x="1805.306" y="4093.288" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Version</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 2893.829232124999 4100.827133054998 L 782.3407396424999 4100.827133054998" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 782.5292227575 4092.973669929998 L 766.8222965074999 4100.827133054998 L 782.5292227575 4108.680596179998 Z" paint-order="stroke fill markers" transform="translate(766.8222965074999,4100.827133054998) translate(-766.8222965074999,-4100.827133054998)"/></g></g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="1.571" d="M 766.8222965074999 4150.775158529998 L 776.2464522574999 4150.775158529998 M 776.2464522574999 4129.099600304999 L 843.7354902012498 4129.099600304999 L 860.6989705512499 4146.063080654999 L 860.6989705512499 4172.450716754998 L 776.2464522574999 4172.450716754998 L 776.2464522574999 4129.099600304999 M 843.7354902012498 4129.099600304999 L 843.7354902012498 4146.063080654999 L 860.6989705512499 4146.063080654999" paint-order="fill stroke markers"/><g><text x="802.634" y="4155.487" fill="#00f" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">After</text></g><g><path fill="none" stroke="#000" stroke-dasharray="7.539" stroke-miterlimit="10" stroke-width="1.571" d="M 292.0263925575 4225.225988954998 L 122.06082495624999 4225.225988954998" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 122.24930807125 4217.372525829997 L 106.54238182124999 4225.225988954998 L 122.24930807125 4233.079452079998 Z" paint-order="stroke fill markers" transform="translate(106.54238182124999,4225.225988954998) translate(-106.54238182124999,-4225.225988954998)"/></g></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 942.98717771 493.2603119550002 L 1167.16691375375 493.2603119550002 L 1167.16691375375 615.7743367050002 L 942.98717771 615.7743367050002 L 942.98717771 493.2603119550002 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 942.98717771 493.2603119550002 L 942.98717771 515.8782857550002 L 1006.00801946 515.8782857550002 L 1017.31700636 504.56929885500017 L 1017.31700636 493.2603119550002 L 942.98717771 493.2603119550002" paint-order="fill stroke markers"/><text x="961.835" y="508.339" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">loop</text><text x="1036.165" y="508.339" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Batch requests]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 1291.433107763125 2048.9999431649994 L 2064.9791673331247 2048.9999431649994 L 2064.9791673331247 2205.4409286149994 L 1291.433107763125 2205.4409286149994 L 1291.433107763125 2048.9999431649994 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 1291.433107763125 2048.9999431649994 L 1291.433107763125 2071.6179169649995 L 1354.453949513125 2071.6179169649995 L 1365.762936413125 2060.3089300649995 L 1365.762936413125 2048.9999431649994 L 1291.433107763125 2048.9999431649994" paint-order="fill stroke markers"/><text x="1310.281" y="2064.079" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">loop</text><text x="1384.611" y="2064.079" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Wait txn commit version enter the MVCC window]</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 2749.765487149999 3858.814813394998 L 3093.304378324999 3858.814813394998 L 3093.304378324999 4048.051860854998 L 2749.765487149999 4048.051860854998 L 2749.765487149999 3858.814813394998 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.693" d="M 2749.765487149999 3858.814813394998 L 2749.765487149999 3881.432787194998 L 2812.786328899999 3881.432787194998 L 2824.095315799999 3870.123800294998 L 2824.095315799999 3858.814813394998 L 2749.765487149999 3858.814813394998" paint-order="fill stroke markers"/><text x="2768.614" y="3873.893" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">loop</text><text x="2842.944" y="3873.893" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[Value not change]</text></g></g></g></svg>